"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auth/[...nextauth]";
exports.ids = ["pages/api/auth/[...nextauth]"];
exports.modules = {

/***/ "@aws-sdk/client-secrets-manager":
/*!**************************************************!*\
  !*** external "@aws-sdk/client-secrets-manager" ***!
  \**************************************************/
/***/ ((module) => {

module.exports = require("@aws-sdk/client-secrets-manager");

/***/ }),

/***/ "@next-auth/prisma-adapter":
/*!********************************************!*\
  !*** external "@next-auth/prisma-adapter" ***!
  \********************************************/
/***/ ((module) => {

module.exports = require("@next-auth/prisma-adapter");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next-auth":
/*!****************************!*\
  !*** external "next-auth" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("next-auth");

/***/ }),

/***/ "next-auth/providers/email":
/*!********************************************!*\
  !*** external "next-auth/providers/email" ***!
  \********************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/email");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "./pages/api/auth/[...nextauth].ts":
/*!*****************************************!*\
  !*** ./pages/api/auth/[...nextauth].ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ auth)\n/* harmony export */ });\n/* harmony import */ var auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! auth */ \"../../packages/auth/index.ts\");\n/* harmony import */ var db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! db */ \"../../packages/db/index.ts\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth */ \"next-auth\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @next-auth/prisma-adapter */ \"@next-auth/prisma-adapter\");\n/* harmony import */ var _next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nasync function auth(req, res) {\n    if (req.query.nextauth.includes('signin')) {\n        // try {\n        //   const output: any = execSync(\n        //     'aws secretsmanager get-secret-value  --secret-id users --region ap-southeast-1',\n        //     { encoding: 'utf-8' }\n        //   )\n        //   const { SecretString } = JSON.parse(output)\n        //   const usersList = JSON.parse(SecretString)\n        //   const { email } = req.body\n        //   if (usersList && usersList[email]) {\n        //     newConfig.adapter = PrismaAdapter(getPrismaClientAsync(usersList[email]))\n        //   } else {\n        //     return res.status(500).json({\n        //       error: 'user with this email is not exist',\n        //     })\n        //   }\n        // } catch (err: any) {\n        //   console.log('err : ', err)\n        //   return res.status(500).json({\n        //     error: 'unable to login',\n        //   })\n        // }\n        const prisma = await (0,db__WEBPACK_IMPORTED_MODULE_1__.getPrismaClientAsync)(req.query.account);\n        auth__WEBPACK_IMPORTED_MODULE_0__.config.adapter = (0,_next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_3__.PrismaAdapter)(prisma);\n    }\n    return await next_auth__WEBPACK_IMPORTED_MODULE_2___default()(req, res, auth__WEBPACK_IMPORTED_MODULE_0__.config);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBNkI7QUFDWTtBQUNUO0FBQ3lCO0FBRzFDLGVBQWVJLElBQUksQ0FBQ0MsR0FBUSxFQUFFQyxHQUFRLEVBQUUsQ0FBQztJQUN0RCxFQUFFLEVBQUVELEdBQUcsQ0FBQ0UsS0FBSyxDQUFDQyxRQUFRLENBQUNDLFFBQVEsQ0FBQyxDQUFRLFVBQUcsQ0FBQztRQUMxQyxFQUFRO1FBQ1IsRUFBa0M7UUFDbEMsRUFBd0Y7UUFDeEYsRUFBNEI7UUFDNUIsRUFBTTtRQUNOLEVBQWdEO1FBQ2hELEVBQStDO1FBQy9DLEVBQStCO1FBQy9CLEVBQXlDO1FBQ3pDLEVBQWdGO1FBQ2hGLEVBQWE7UUFDYixFQUFvQztRQUNwQyxFQUFvRDtRQUNwRCxFQUFTO1FBQ1QsRUFBTTtRQUNOLEVBQXVCO1FBQ3ZCLEVBQStCO1FBQy9CLEVBQWtDO1FBQ2xDLEVBQWdDO1FBQ2hDLEVBQU87UUFDUCxFQUFJO1FBQ0osS0FBSyxDQUFDQyxNQUFNLEdBQUcsS0FBSyxDQUFDVCx3REFBb0IsQ0FBQ0ksR0FBRyxDQUFDRSxLQUFLLENBQUNJLE9BQU87UUFDM0RYLGdEQUFjLEdBQUdHLHdFQUFhLENBQUNPLE1BQU07SUFDdkMsQ0FBQztJQUNELE1BQU0sQ0FBQyxLQUFLLENBQUNSLGdEQUFRLENBQUNHLEdBQUcsRUFBRUMsR0FBRyxFQUFFTix3Q0FBTTtBQUN4QyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW50ZWxsaUthbS8uL3BhZ2VzL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0udHM/MmU4YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb25maWcgfSBmcm9tICdhdXRoJ1xuaW1wb3J0IHsgZ2V0UHJpc21hQ2xpZW50QXN5bmMgfSBmcm9tICdkYidcbmltcG9ydCBOZXh0QXV0aCBmcm9tICduZXh0LWF1dGgnXG5pbXBvcnQgeyBQcmlzbWFBZGFwdGVyIH0gZnJvbSAnQG5leHQtYXV0aC9wcmlzbWEtYWRhcHRlcidcbmltcG9ydCB7IGV4ZWNTeW5jIH0gZnJvbSAnY2hpbGRfcHJvY2VzcydcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gYXV0aChyZXE6IGFueSwgcmVzOiBhbnkpIHtcbiAgaWYgKHJlcS5xdWVyeS5uZXh0YXV0aC5pbmNsdWRlcygnc2lnbmluJykpIHtcbiAgICAvLyB0cnkge1xuICAgIC8vICAgY29uc3Qgb3V0cHV0OiBhbnkgPSBleGVjU3luYyhcbiAgICAvLyAgICAgJ2F3cyBzZWNyZXRzbWFuYWdlciBnZXQtc2VjcmV0LXZhbHVlICAtLXNlY3JldC1pZCB1c2VycyAtLXJlZ2lvbiBhcC1zb3V0aGVhc3QtMScsXG4gICAgLy8gICAgIHsgZW5jb2Rpbmc6ICd1dGYtOCcgfVxuICAgIC8vICAgKVxuICAgIC8vICAgY29uc3QgeyBTZWNyZXRTdHJpbmcgfSA9IEpTT04ucGFyc2Uob3V0cHV0KVxuICAgIC8vICAgY29uc3QgdXNlcnNMaXN0ID0gSlNPTi5wYXJzZShTZWNyZXRTdHJpbmcpXG4gICAgLy8gICBjb25zdCB7IGVtYWlsIH0gPSByZXEuYm9keVxuICAgIC8vICAgaWYgKHVzZXJzTGlzdCAmJiB1c2Vyc0xpc3RbZW1haWxdKSB7XG4gICAgLy8gICAgIG5ld0NvbmZpZy5hZGFwdGVyID0gUHJpc21hQWRhcHRlcihnZXRQcmlzbWFDbGllbnRBc3luYyh1c2Vyc0xpc3RbZW1haWxdKSlcbiAgICAvLyAgIH0gZWxzZSB7XG4gICAgLy8gICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgLy8gICAgICAgZXJyb3I6ICd1c2VyIHdpdGggdGhpcyBlbWFpbCBpcyBub3QgZXhpc3QnLFxuICAgIC8vICAgICB9KVxuICAgIC8vICAgfVxuICAgIC8vIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgLy8gICBjb25zb2xlLmxvZygnZXJyIDogJywgZXJyKVxuICAgIC8vICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAvLyAgICAgZXJyb3I6ICd1bmFibGUgdG8gbG9naW4nLFxuICAgIC8vICAgfSlcbiAgICAvLyB9XG4gICAgY29uc3QgcHJpc21hID0gYXdhaXQgZ2V0UHJpc21hQ2xpZW50QXN5bmMocmVxLnF1ZXJ5LmFjY291bnQpXG4gICAgY29uZmlnLmFkYXB0ZXIgPSBQcmlzbWFBZGFwdGVyKHByaXNtYSlcbiAgfVxuICByZXR1cm4gYXdhaXQgTmV4dEF1dGgocmVxLCByZXMsIGNvbmZpZylcbn1cbiJdLCJuYW1lcyI6WyJjb25maWciLCJnZXRQcmlzbWFDbGllbnRBc3luYyIsIk5leHRBdXRoIiwiUHJpc21hQWRhcHRlciIsImF1dGgiLCJyZXEiLCJyZXMiLCJxdWVyeSIsIm5leHRhdXRoIiwiaW5jbHVkZXMiLCJwcmlzbWEiLCJhY2NvdW50IiwiYWRhcHRlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/api/auth/[...nextauth].ts\n");

/***/ }),

/***/ "../../packages/auth/config.ts":
/*!*************************************!*\
  !*** ../../packages/auth/config.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"config\": () => (/* binding */ config)\n/* harmony export */ });\n/* harmony import */ var db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! db */ \"../../packages/db/index.ts\");\n/* harmony import */ var _next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @next-auth/prisma-adapter */ \"@next-auth/prisma-adapter\");\n/* harmony import */ var _next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./types */ \"../../packages/auth/types.ts\");\n/* harmony import */ var next_auth_providers_email__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-auth/providers/email */ \"next-auth/providers/email\");\n/* harmony import */ var next_auth_providers_email__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_email__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nconst emailConfig = {\n    server: {\n        host: process.env.EMAIL_SERVER_HOST,\n        port: 465,\n        auth: {\n            user: process.env.EMAIL_SERVER_USER,\n            pass: process.env.EMAIL_SERVER_PASSWORD\n        },\n        logger: true,\n        debug: false\n    },\n    from: process.env.EMAIL_FROM\n};\nconst config = {\n    adapter: (0,_next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_1__.PrismaAdapter)(db__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n    secret: process.env.NEXTAUTH_SECRET,\n    session: {\n        strategy: 'jwt',\n        maxAge: 7 * 24 * 60 * 60\n    },\n    providers: [\n        next_auth_providers_email__WEBPACK_IMPORTED_MODULE_3___default()(emailConfig)\n    ],\n    pages: {\n        signIn: '/login'\n    },\n    callbacks: {\n        /**\n     * @param  {object} user     User object\n     * @param  {object} account  Provider account\n     * @param  {object} profile  Provider profile\n     * @return {boolean|string}  Return `true` to allow sign in\n     *                           Return `false` to deny access\n     *                           Return `string` to redirect to (eg.: \"/unauthorized\")\n     */ async signIn (params) {\n            return true;\n        },\n        /**\n     * @param  {string} url      URL provided as callback URL by the client\n     * @param  {string} baseUrl  Default base URL of site (can be used as fallback)\n     * @return {string}          URL the client will be redirect to\n     */ async redirect ({ url , baseUrl  }) {\n            if (url.startsWith(baseUrl)) {\n                return url;\n            }\n            return baseUrl;\n        },\n        /**\n     * @param  {object}  token     Decrypted JSON Web Token\n     * @param  {object}  user      User object      (only available on sign in)\n     * @param  {object}  account   Provider account (only available on sign in)\n     * @param  {object}  profile   Provider profile (only available on sign in)\n     * @param  {boolean} isNewUser True if new user (only available on sign in)\n     * @return {object}            JSON Web Token that will be saved\n     */ async jwt ({ token , user  }) {\n            if (user?.accountNumber) {\n                token.account = user.accountNumber;\n            }\n            if (user?.id) {\n                token.id = user.id;\n            }\n            return token;\n        },\n        /**\n     * @param  {object} session      Session object\n     * @param  {object} user         User object    (if using database sessions)\n     * @return {object}              Session that will be returned to the client\n     */ async session ({ session , user , token  }) {\n            let _token = token;\n            if (_token) {\n                process.env.DATABASE_NAME = _token.account;\n            }\n            return {\n                ...session,\n                user: {\n                    ...user,\n                    ...token\n                }\n            };\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S2FtLy4uLy4uL3BhY2thZ2VzL2F1dGgvY29uZmlnLnRzPzQ3OTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHByaXNtYSBmcm9tICdkYidcbmltcG9ydCB7IFByaXNtYUFkYXB0ZXIgfSBmcm9tICdAbmV4dC1hdXRoL3ByaXNtYS1hZGFwdGVyJ1xuaW1wb3J0IHsgTmV4dEF1dGhPcHRpb25zIH0gZnJvbSAnbmV4dC1hdXRoJ1xuaW1wb3J0ICcuL3R5cGVzJ1xuaW1wb3J0IEVtYWlsUHJvdmlkZXIgZnJvbSAnbmV4dC1hdXRoL3Byb3ZpZGVycy9lbWFpbCdcblxuY29uc3QgZW1haWxDb25maWcgPSB7XG4gIHNlcnZlcjoge1xuICAgIGhvc3Q6IHByb2Nlc3MuZW52LkVNQUlMX1NFUlZFUl9IT1NULFxuICAgIHBvcnQ6IDQ2NSxcbiAgICBhdXRoOiB7XG4gICAgICB1c2VyOiBwcm9jZXNzLmVudi5FTUFJTF9TRVJWRVJfVVNFUixcbiAgICAgIHBhc3M6IHByb2Nlc3MuZW52LkVNQUlMX1NFUlZFUl9QQVNTV09SRCxcbiAgICB9LFxuICAgIGxvZ2dlcjogdHJ1ZSxcbiAgICBkZWJ1ZzogZmFsc2UsXG4gIH0sXG4gIGZyb206IHByb2Nlc3MuZW52LkVNQUlMX0ZST00sXG59XG5cbmV4cG9ydCBjb25zdCBjb25maWc6IE5leHRBdXRoT3B0aW9ucyA9IHtcbiAgYWRhcHRlcjogUHJpc21hQWRhcHRlcihwcmlzbWEpLFxuICBzZWNyZXQ6IHByb2Nlc3MuZW52Lk5FWFRBVVRIX1NFQ1JFVCxcbiAgc2Vzc2lvbjoge1xuICAgIHN0cmF0ZWd5OiAnand0JyxcbiAgICBtYXhBZ2U6IDcgKiAyNCAqIDYwICogNjAsIC8vIDcgRGF5cyBleHBpcnlcbiAgfSxcbiAgcHJvdmlkZXJzOiBbRW1haWxQcm92aWRlcihlbWFpbENvbmZpZyldLFxuICBwYWdlczoge1xuICAgIHNpZ25JbjogJy9sb2dpbicsXG4gICAgLy8gZXJyb3I6ICcvYXV0aC9lcnJvcicsXG4gICAgLy8gc2lnbk91dDogJy9sb2dpbidcbiAgfSxcbiAgY2FsbGJhY2tzOiB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtICB7b2JqZWN0fSB1c2VyICAgICBVc2VyIG9iamVjdFxuICAgICAqIEBwYXJhbSAge29iamVjdH0gYWNjb3VudCAgUHJvdmlkZXIgYWNjb3VudFxuICAgICAqIEBwYXJhbSAge29iamVjdH0gcHJvZmlsZSAgUHJvdmlkZXIgcHJvZmlsZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW58c3RyaW5nfSAgUmV0dXJuIGB0cnVlYCB0byBhbGxvdyBzaWduIGluXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICBSZXR1cm4gYGZhbHNlYCB0byBkZW55IGFjY2Vzc1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgUmV0dXJuIGBzdHJpbmdgIHRvIHJlZGlyZWN0IHRvIChlZy46IFwiL3VuYXV0aG9yaXplZFwiKVxuICAgICAqL1xuICAgIGFzeW5jIHNpZ25JbihwYXJhbXMpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IHVybCAgICAgIFVSTCBwcm92aWRlZCBhcyBjYWxsYmFjayBVUkwgYnkgdGhlIGNsaWVudFxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gYmFzZVVybCAgRGVmYXVsdCBiYXNlIFVSTCBvZiBzaXRlIChjYW4gYmUgdXNlZCBhcyBmYWxsYmFjaylcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgIFVSTCB0aGUgY2xpZW50IHdpbGwgYmUgcmVkaXJlY3QgdG9cbiAgICAgKi9cbiAgICBhc3luYyByZWRpcmVjdCh7IHVybCwgYmFzZVVybCB9KSB7XG4gICAgICBpZiAodXJsLnN0YXJ0c1dpdGgoYmFzZVVybCkpIHtcbiAgICAgICAgcmV0dXJuIHVybFxuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VVcmxcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEBwYXJhbSAge29iamVjdH0gIHRva2VuICAgICBEZWNyeXB0ZWQgSlNPTiBXZWIgVG9rZW5cbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9ICB1c2VyICAgICAgVXNlciBvYmplY3QgICAgICAob25seSBhdmFpbGFibGUgb24gc2lnbiBpbilcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9ICBhY2NvdW50ICAgUHJvdmlkZXIgYWNjb3VudCAob25seSBhdmFpbGFibGUgb24gc2lnbiBpbilcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9ICBwcm9maWxlICAgUHJvdmlkZXIgcHJvZmlsZSAob25seSBhdmFpbGFibGUgb24gc2lnbiBpbilcbiAgICAgKiBAcGFyYW0gIHtib29sZWFufSBpc05ld1VzZXIgVHJ1ZSBpZiBuZXcgdXNlciAob25seSBhdmFpbGFibGUgb24gc2lnbiBpbilcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9ICAgICAgICAgICAgSlNPTiBXZWIgVG9rZW4gdGhhdCB3aWxsIGJlIHNhdmVkXG4gICAgICovXG4gICAgYXN5bmMgand0KHsgdG9rZW4sIHVzZXIgfSkge1xuICAgICAgaWYgKHVzZXI/LmFjY291bnROdW1iZXIpIHtcbiAgICAgICAgdG9rZW4uYWNjb3VudCA9IHVzZXIuYWNjb3VudE51bWJlclxuICAgICAgfVxuICAgICAgaWYgKHVzZXI/LmlkKSB7XG4gICAgICAgIHRva2VuLmlkID0gdXNlci5pZFxuICAgICAgfVxuICAgICAgcmV0dXJuIHRva2VuXG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9IHNlc3Npb24gICAgICBTZXNzaW9uIG9iamVjdFxuICAgICAqIEBwYXJhbSAge29iamVjdH0gdXNlciAgICAgICAgIFVzZXIgb2JqZWN0ICAgIChpZiB1c2luZyBkYXRhYmFzZSBzZXNzaW9ucylcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9ICAgICAgICAgICAgICBTZXNzaW9uIHRoYXQgd2lsbCBiZSByZXR1cm5lZCB0byB0aGUgY2xpZW50XG4gICAgICovXG4gICAgYXN5bmMgc2Vzc2lvbih7IHNlc3Npb24sIHVzZXIsIHRva2VuIH0pIHtcbiAgICAgIGxldCBfdG9rZW46IGFueSA9IHRva2VuXG4gICAgICBpZiAoX3Rva2VuKSB7XG4gICAgICAgIHByb2Nlc3MuZW52LkRBVEFCQVNFX05BTUUgPSBfdG9rZW4uYWNjb3VudFxuICAgICAgfVxuICAgICAgcmV0dXJuIHsgLi4uc2Vzc2lvbiwgdXNlcjogeyAuLi51c2VyLCAuLi50b2tlbiB9IH1cbiAgICB9LFxuICB9LFxufVxuIl0sIm5hbWVzIjpbInByaXNtYSIsIlByaXNtYUFkYXB0ZXIiLCJFbWFpbFByb3ZpZGVyIiwiZW1haWxDb25maWciLCJzZXJ2ZXIiLCJob3N0IiwicHJvY2VzcyIsImVudiIsIkVNQUlMX1NFUlZFUl9IT1NUIiwicG9ydCIsImF1dGgiLCJ1c2VyIiwiRU1BSUxfU0VSVkVSX1VTRVIiLCJwYXNzIiwiRU1BSUxfU0VSVkVSX1BBU1NXT1JEIiwibG9nZ2VyIiwiZGVidWciLCJmcm9tIiwiRU1BSUxfRlJPTSIsImNvbmZpZyIsImFkYXB0ZXIiLCJzZWNyZXQiLCJORVhUQVVUSF9TRUNSRVQiLCJzZXNzaW9uIiwic3RyYXRlZ3kiLCJtYXhBZ2UiLCJwcm92aWRlcnMiLCJwYWdlcyIsInNpZ25JbiIsImNhbGxiYWNrcyIsInBhcmFtcyIsInJlZGlyZWN0IiwidXJsIiwiYmFzZVVybCIsInN0YXJ0c1dpdGgiLCJqd3QiLCJ0b2tlbiIsImFjY291bnROdW1iZXIiLCJhY2NvdW50IiwiaWQiLCJfdG9rZW4iLCJEQVRBQkFTRV9OQU1FIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../packages/auth/config.ts\n");

/***/ }),

/***/ "../../packages/auth/index.ts":
/*!************************************!*\
  !*** ../../packages/auth/index.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config */ \"../../packages/auth/config.ts\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _config__WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _config__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vcGFja2FnZXMvYXV0aC9pbmRleC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF3QiIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVsbGlLYW0vLi4vLi4vcGFja2FnZXMvYXV0aC9pbmRleC50cz82Mjc2Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gXCIuL2NvbmZpZ1wiO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../packages/auth/index.ts\n");

/***/ }),

/***/ "../../packages/auth/types.ts":
/*!************************************!*\
  !*** ../../packages/auth/types.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vcGFja2FnZXMvYXV0aC90eXBlcy50cy5qcyIsIm1hcHBpbmdzIjoiO0FBQU0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlbGxpS2FtLy4uLy4uL3BhY2thZ2VzL2F1dGgvdHlwZXMudHM/ODQ0NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEZWZhdWx0VXNlciB9IGZyb20gJ25leHQtYXV0aCdcblxuZGVjbGFyZSBtb2R1bGUgJ25leHQtYXV0aCcge1xuICBpbnRlcmZhY2UgU2Vzc2lvbiB7XG4gICAgdXNlcj86IERlZmF1bHRVc2VyXG4gIH1cbiAgaW50ZXJmYWNlIEpXVCB7XG4gICAgaWQ6IHN0cmluZ1xuICB9XG5cbiAgaW50ZXJmYWNlIFVzZXIge1xuICAgIGFjY291bnROdW1iZXI6IGFueVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../packages/auth/types.ts\n");

/***/ }),

/***/ "../../packages/db/index.ts":
/*!**********************************!*\
  !*** ../../packages/db/index.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getPrismaClientAsync\": () => (/* binding */ getPrismaClientAsync),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"getPrismaClientSync\": () => (/* binding */ getPrismaClientSync)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"../../packages/db/utils.ts\");\n/// <reference types=\"./types\" />\n\n\n// Prevent multiple instances of Prisma Client in development\nconst prisma = global.prisma || new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    log: [\n        'query'\n    ]\n});\nif (process.env.MODE !== 'production') global.prisma = prisma;\nconst getPrismaClientAsync = async (DATABASE_NAME)=>{\n    const secretName = process.env.MODE === 'development' ? 'local_database_cred' : 'database_cred';\n    const secrets = await (0,_utils__WEBPACK_IMPORTED_MODULE_1__.getSecretValue)(secretName);\n    const { DATABASE_USER_NAME , DATABASE_PASSWORD , DATABASE_HOST , DATABASE_PORT ,  } = secrets;\n    const client = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n        datasources: {\n            db: {\n                url: `mysql://${DATABASE_USER_NAME}:${DATABASE_PASSWORD}@${DATABASE_HOST}:${DATABASE_PORT}/${DATABASE_NAME}`\n            }\n        }\n    });\n    return client;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\nconst getPrismaClientSync = (DATABASE_USER_NAME, DATABASE_PASSWORD, DATABASE_HOST, DATABASE_PORT, DATABASE_NAME)=>{\n    const client = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n        datasources: {\n            db: {\n                url: `mysql://${DATABASE_USER_NAME}:${DATABASE_PASSWORD}@${DATABASE_HOST}:${DATABASE_PORT}/${DATABASE_NAME}`\n            }\n        }\n    });\n    return client;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vcGFja2FnZXMvZGIvaW5kZXgudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsRUFBaUM7QUFFWTtBQUNMO0FBRXhDLEVBQTZEO0FBQzdELEtBQUssQ0FBQ0UsTUFBTSxHQUNWQyxNQUFNLENBQUNELE1BQU0sSUFDYixHQUFHLENBQUNGLHdEQUFZLENBQUMsQ0FBQztJQUNoQkksR0FBRyxFQUFFLENBQUM7UUFBQSxDQUFPO0lBQUEsQ0FBQztBQUNoQixDQUFDO0FBRUgsRUFBRSxFQUFFQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsSUFBSSxLQUFLLENBQVksYUFBRUosTUFBTSxDQUFDRCxNQUFNLEdBQUdBLE1BQU07QUFFdEQsS0FBSyxDQUFDTSxvQkFBb0IsVUFBVUMsYUFBcUIsR0FBSyxDQUFDO0lBQ3BFLEtBQUssQ0FBQ0MsVUFBVSxHQUNkTCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsSUFBSSxLQUFLLENBQWEsZUFDOUIsQ0FBcUIsdUJBQ3JCLENBQWU7SUFFckIsS0FBSyxDQUFDSSxPQUFPLEdBQUcsS0FBSyxDQUFDVixzREFBYyxDQUFDUyxVQUFVO0lBQy9DLEtBQUssQ0FBQyxDQUFDLENBQ0xFLGtCQUFrQixHQUNsQkMsaUJBQWlCLEdBQ2pCQyxhQUFhLEdBQ2JDLGFBQWEsSUFDZixDQUFDLEdBQUdKLE9BQU87SUFFWCxLQUFLLENBQUNLLE1BQU0sR0FBRyxHQUFHLENBQUNoQix3REFBWSxDQUFDLENBQUM7UUFDL0JpQixXQUFXLEVBQUUsQ0FBQztZQUNaQyxFQUFFLEVBQUUsQ0FBQztnQkFDSEMsR0FBRyxHQUFHLFFBQVEsRUFBRVAsa0JBQWtCLENBQUMsQ0FBQyxFQUFFQyxpQkFBaUIsQ0FBQyxDQUFDLEVBQUVDLGFBQWEsQ0FBQyxDQUFDLEVBQUVDLGFBQWEsQ0FBQyxDQUFDLEVBQUVOLGFBQWE7WUFDNUcsQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDO0lBQ0QsTUFBTSxDQUFDTyxNQUFNO0FBQ2YsQ0FBQztBQUVELGlFQUFlZCxNQUFNO0FBRWQsS0FBSyxDQUFDa0IsbUJBQW1CLElBQzlCUixrQkFBMEIsRUFDMUJDLGlCQUF5QixFQUN6QkMsYUFBcUIsRUFDckJDLGFBQXFCLEVBQ3JCTixhQUFxQixHQUNsQixDQUFDO0lBQ0osS0FBSyxDQUFDTyxNQUFNLEdBQUcsR0FBRyxDQUFDaEIsd0RBQVksQ0FBQyxDQUFDO1FBQy9CaUIsV0FBVyxFQUFFLENBQUM7WUFDWkMsRUFBRSxFQUFFLENBQUM7Z0JBQ0hDLEdBQUcsR0FBRyxRQUFRLEVBQUVQLGtCQUFrQixDQUFDLENBQUMsRUFBRUMsaUJBQWlCLENBQUMsQ0FBQyxFQUFFQyxhQUFhLENBQUMsQ0FBQyxFQUFFQyxhQUFhLENBQUMsQ0FBQyxFQUFFTixhQUFhO1lBQzVHLENBQUM7UUFDSCxDQUFDO0lBQ0gsQ0FBQztJQUNELE1BQU0sQ0FBQ08sTUFBTTtBQUNmLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlbGxpS2FtLy4uLy4uL3BhY2thZ2VzL2RiL2luZGV4LnRzP2RmYjYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8vIDxyZWZlcmVuY2UgdHlwZXM9XCIuL3R5cGVzXCIgLz5cblxuaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnXG5pbXBvcnQgeyBnZXRTZWNyZXRWYWx1ZSB9IGZyb20gJy4vdXRpbHMnXG5cbi8vIFByZXZlbnQgbXVsdGlwbGUgaW5zdGFuY2VzIG9mIFByaXNtYSBDbGllbnQgaW4gZGV2ZWxvcG1lbnRcbmNvbnN0IHByaXNtYSA9XG4gIGdsb2JhbC5wcmlzbWEgfHxcbiAgbmV3IFByaXNtYUNsaWVudCh7XG4gICAgbG9nOiBbJ3F1ZXJ5J10sXG4gIH0pXG5cbmlmIChwcm9jZXNzLmVudi5NT0RFICE9PSAncHJvZHVjdGlvbicpIGdsb2JhbC5wcmlzbWEgPSBwcmlzbWFcblxuZXhwb3J0IGNvbnN0IGdldFByaXNtYUNsaWVudEFzeW5jID0gYXN5bmMgKERBVEFCQVNFX05BTUU6IHN0cmluZykgPT4ge1xuICBjb25zdCBzZWNyZXROYW1lID1cbiAgICBwcm9jZXNzLmVudi5NT0RFID09PSAnZGV2ZWxvcG1lbnQnXG4gICAgICA/ICdsb2NhbF9kYXRhYmFzZV9jcmVkJ1xuICAgICAgOiAnZGF0YWJhc2VfY3JlZCdcblxuICBjb25zdCBzZWNyZXRzID0gYXdhaXQgZ2V0U2VjcmV0VmFsdWUoc2VjcmV0TmFtZSlcbiAgY29uc3Qge1xuICAgIERBVEFCQVNFX1VTRVJfTkFNRSxcbiAgICBEQVRBQkFTRV9QQVNTV09SRCxcbiAgICBEQVRBQkFTRV9IT1NULFxuICAgIERBVEFCQVNFX1BPUlQsXG4gIH0gPSBzZWNyZXRzXG5cbiAgY29uc3QgY2xpZW50ID0gbmV3IFByaXNtYUNsaWVudCh7XG4gICAgZGF0YXNvdXJjZXM6IHtcbiAgICAgIGRiOiB7XG4gICAgICAgIHVybDogYG15c3FsOi8vJHtEQVRBQkFTRV9VU0VSX05BTUV9OiR7REFUQUJBU0VfUEFTU1dPUkR9QCR7REFUQUJBU0VfSE9TVH06JHtEQVRBQkFTRV9QT1JUfS8ke0RBVEFCQVNFX05BTUV9YCxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSlcbiAgcmV0dXJuIGNsaWVudFxufVxuXG5leHBvcnQgZGVmYXVsdCBwcmlzbWFcblxuZXhwb3J0IGNvbnN0IGdldFByaXNtYUNsaWVudFN5bmMgPSAoXG4gIERBVEFCQVNFX1VTRVJfTkFNRTogc3RyaW5nLFxuICBEQVRBQkFTRV9QQVNTV09SRDogc3RyaW5nLFxuICBEQVRBQkFTRV9IT1NUOiBzdHJpbmcsXG4gIERBVEFCQVNFX1BPUlQ6IHN0cmluZyxcbiAgREFUQUJBU0VfTkFNRTogc3RyaW5nXG4pID0+IHtcbiAgY29uc3QgY2xpZW50ID0gbmV3IFByaXNtYUNsaWVudCh7XG4gICAgZGF0YXNvdXJjZXM6IHtcbiAgICAgIGRiOiB7XG4gICAgICAgIHVybDogYG15c3FsOi8vJHtEQVRBQkFTRV9VU0VSX05BTUV9OiR7REFUQUJBU0VfUEFTU1dPUkR9QCR7REFUQUJBU0VfSE9TVH06JHtEQVRBQkFTRV9QT1JUfS8ke0RBVEFCQVNFX05BTUV9YCxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSlcbiAgcmV0dXJuIGNsaWVudFxufVxuIl0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsImdldFNlY3JldFZhbHVlIiwicHJpc21hIiwiZ2xvYmFsIiwibG9nIiwicHJvY2VzcyIsImVudiIsIk1PREUiLCJnZXRQcmlzbWFDbGllbnRBc3luYyIsIkRBVEFCQVNFX05BTUUiLCJzZWNyZXROYW1lIiwic2VjcmV0cyIsIkRBVEFCQVNFX1VTRVJfTkFNRSIsIkRBVEFCQVNFX1BBU1NXT1JEIiwiREFUQUJBU0VfSE9TVCIsIkRBVEFCQVNFX1BPUlQiLCJjbGllbnQiLCJkYXRhc291cmNlcyIsImRiIiwidXJsIiwiZ2V0UHJpc21hQ2xpZW50U3luYyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../packages/db/index.ts\n");

/***/ }),

/***/ "../../packages/db/utils.ts":
/*!**********************************!*\
  !*** ../../packages/db/utils.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getSecretValue\": () => (/* binding */ getSecretValue),\n/* harmony export */   \"createSecret\": () => (/* binding */ createSecret),\n/* harmony export */   \"updateSecret\": () => (/* binding */ updateSecret),\n/* harmony export */   \"getAllSchema\": () => (/* binding */ getAllSchema),\n/* harmony export */   \"getDataBaseUrl\": () => (/* binding */ getDataBaseUrl),\n/* harmony export */   \"getDataBaseUrlSync\": () => (/* binding */ getDataBaseUrlSync),\n/* harmony export */   \"createMigration\": () => (/* binding */ createMigration),\n/* harmony export */   \"applyCreatedMigration\": () => (/* binding */ applyCreatedMigration),\n/* harmony export */   \"generateNewPrismaClient\": () => (/* binding */ generateNewPrismaClient)\n/* harmony export */ });\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! child_process */ \"child_process\");\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(child_process__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _aws_sdk_client_secrets_manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @aws-sdk/client-secrets-manager */ \"@aws-sdk/client-secrets-manager\");\n/* harmony import */ var _aws_sdk_client_secrets_manager__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_aws_sdk_client_secrets_manager__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst client = new _aws_sdk_client_secrets_manager__WEBPACK_IMPORTED_MODULE_1__.SecretsManagerClient({\n    region: 'ap-southeast-1'\n});\nconst getSecretValue = async (secretName)=>{\n    try {\n        const response = await client.send(new _aws_sdk_client_secrets_manager__WEBPACK_IMPORTED_MODULE_1__.GetSecretValueCommand({\n            SecretId: secretName,\n            VersionStage: 'AWSCURRENT'\n        }));\n        if (response && response.SecretString) {\n            return JSON.parse(response.SecretString);\n        } else {\n            return null;\n        }\n    } catch (error) {\n        console.log('error in fetchSecret', error);\n        return null;\n    }\n};\nconst createSecret = async (payload)=>{\n    try {\n        const command = new _aws_sdk_client_secrets_manager__WEBPACK_IMPORTED_MODULE_1__.CreateSecretCommand({\n            Name: payload.secretName.toString(),\n            SecretString: JSON.stringify(payload.secretValue)\n        });\n        const response = await client.send(command);\n        return response;\n    } catch (error) {\n        console.log('error in createSecret', error);\n        return null;\n    }\n};\nconst updateSecret = async (secretName, payload)=>{\n    try {\n        const secretValue = await getSecretValue(secretName);\n        const command = new _aws_sdk_client_secrets_manager__WEBPACK_IMPORTED_MODULE_1__.UpdateSecretCommand({\n            SecretId: secretName.toString(),\n            SecretString: JSON.stringify({\n                ...secretValue,\n                ...payload\n            })\n        });\n        const response = await client.send(command);\n        return response;\n    } catch (error) {\n        console.log('error in createSecret', error);\n        return null;\n    }\n};\n// function fetchSchemas() {\n//   return new Promise(function (resolve, reject) {\n//     exec(\n//       `MYSQL_PWD=${DATABASE_PASSWORD} mysql -h ${DATABASE_HOST} -u ${DATABASE_USER_NAME} -e \"show databases\";`,\n//       function (error, stdout, stderr) {\n//         if (error) {\n//           reject(error)\n//         } else {\n//           resolve(stdout)\n//         }\n//       }\n//     )\n//   })\n// }\nasync function getAllSchema() {\n    // const schemaRes: any = await fetchSchemas()\n    // console.log('schemaRes---->', schemaRes)\n    // const schemas = schemaRes\n    //   .split('\\n')\n    //   .filter(\n    //     (ele: any) =>\n    //       ![\n    //         'Database',\n    //         'information_schema',\n    //         'mysql',\n    //         'performance_schema',\n    //         '',\n    //         'sys',\n    //         'tmp',\n    //       ].includes(ele)\n    //   )\n    // return schemas\n    return [];\n}\nconst getDataBaseUrl = async (DATABASE_NAME)=>{\n    const secretName = process.env.MODE === 'development' ? 'local_database_cred' : 'database_cred';\n    const secrets = await getSecretValue(secretName);\n    const { DATABASE_USER_NAME , DATABASE_PASSWORD , DATABASE_HOST , DATABASE_PORT ,  } = secrets;\n    return `mysql://${DATABASE_USER_NAME}:${DATABASE_PASSWORD}@${DATABASE_HOST}:${DATABASE_PORT}/${DATABASE_NAME}`;\n};\nconst getDataBaseUrlSync = (DATABASE_USER_NAME, DATABASE_PASSWORD, DATABASE_HOST, DATABASE_PORT, DATABASE_NAME)=>{\n    return `mysql://${DATABASE_USER_NAME}:${DATABASE_PASSWORD}@${DATABASE_HOST}:${DATABASE_PORT}/${DATABASE_NAME}`;\n};\nconst createMigration = (migrationName)=>{\n    return new Promise(function(resolve, reject) {\n        (0,child_process__WEBPACK_IMPORTED_MODULE_0__.exec)(`yarn workspace intelliKam run create --name ${migrationName}`, function(error, stdout, stderr) {\n            if (error) {\n                reject(false);\n            } else {\n                resolve(true);\n            }\n        });\n    });\n};\nconst applyCreatedMigration = ()=>{\n    return new Promise(function(resolve, reject) {\n        (0,child_process__WEBPACK_IMPORTED_MODULE_0__.exec)(`yarn run prisma migrate deploy`, function(error, stdout, stderr) {\n            if (error) {\n                reject(false);\n            } else {\n                resolve(true);\n            }\n        });\n    });\n};\nconst generateNewPrismaClient = ()=>{\n    return new Promise(function(resolve, reject) {\n        (0,child_process__WEBPACK_IMPORTED_MODULE_0__.exec)(`yarn run prisma generate`, function(error, stdout, stderr) {\n            if (error) {\n                console.log(error);\n                reject(false);\n            } else {\n                console.log('stdout=====', stdout);\n                resolve(true);\n            }\n        });\n    });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vcGFja2FnZXMvZGIvdXRpbHMudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFvQztBQU1JO0FBRXhDLEtBQUssQ0FBQ0ssTUFBTSxHQUFHLEdBQUcsQ0FBQ0osaUZBQW9CLENBQUMsQ0FBQztJQUN2Q0ssTUFBTSxFQUFFLENBQWdCO0FBQzFCLENBQUM7QUFFTSxLQUFLLENBQUNDLGNBQWMsVUFBVUMsVUFBa0IsR0FBSyxDQUFDO0lBQzNELEdBQUcsQ0FBQyxDQUFDO1FBQ0gsS0FBSyxDQUFDQyxRQUFRLEdBQUcsS0FBSyxDQUFDSixNQUFNLENBQUNLLElBQUksQ0FDaEMsR0FBRyxDQUFDUixrRkFBcUIsQ0FBQyxDQUFDO1lBQ3pCUyxRQUFRLEVBQUVILFVBQVU7WUFDcEJJLFlBQVksRUFBRSxDQUFZO1FBQzVCLENBQUM7UUFFSCxFQUFFLEVBQUVILFFBQVEsSUFBSUEsUUFBUSxDQUFDSSxZQUFZLEVBQUUsQ0FBQztZQUN0QyxNQUFNLENBQUNDLElBQUksQ0FBQ0MsS0FBSyxDQUFDTixRQUFRLENBQUNJLFlBQVk7UUFDekMsQ0FBQyxNQUFNLENBQUM7WUFDTixNQUFNLENBQUMsSUFBSTtRQUNiLENBQUM7SUFDSCxDQUFDLENBQUMsS0FBSyxFQUFFRyxLQUFLLEVBQUUsQ0FBQztRQUNmQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUFzQix1QkFBRUYsS0FBSztRQUN6QyxNQUFNLENBQUMsSUFBSTtJQUNiLENBQUM7QUFDSCxDQUFDO0FBRU0sS0FBSyxDQUFDRyxZQUFZLFVBQVVDLE9BQVksR0FBSyxDQUFDO0lBQ25ELEdBQUcsQ0FBQyxDQUFDO1FBQ0gsS0FBSyxDQUFDQyxPQUFPLEdBQUcsR0FBRyxDQUFDbEIsZ0ZBQW1CLENBQUMsQ0FBQztZQUN2Q21CLElBQUksRUFBRUYsT0FBTyxDQUFDWixVQUFVLENBQUNlLFFBQVE7WUFDakNWLFlBQVksRUFBRUMsSUFBSSxDQUFDVSxTQUFTLENBQUNKLE9BQU8sQ0FBQ0ssV0FBVztRQUNsRCxDQUFDO1FBQ0QsS0FBSyxDQUFDaEIsUUFBUSxHQUFHLEtBQUssQ0FBQ0osTUFBTSxDQUFDSyxJQUFJLENBQUNXLE9BQU87UUFDMUMsTUFBTSxDQUFDWixRQUFRO0lBQ2pCLENBQUMsQ0FBQyxLQUFLLEVBQUVPLEtBQUssRUFBRSxDQUFDO1FBQ2ZDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLENBQXVCLHdCQUFFRixLQUFLO1FBQzFDLE1BQU0sQ0FBQyxJQUFJO0lBQ2IsQ0FBQztBQUNILENBQUM7QUFFTSxLQUFLLENBQUNVLFlBQVksVUFBVWxCLFVBQWUsRUFBRVksT0FBWSxHQUFLLENBQUM7SUFDcEUsR0FBRyxDQUFDLENBQUM7UUFDSCxLQUFLLENBQUNLLFdBQVcsR0FBRyxLQUFLLENBQUNsQixjQUFjLENBQUNDLFVBQVU7UUFDbkQsS0FBSyxDQUFDYSxPQUFPLEdBQUcsR0FBRyxDQUFDakIsZ0ZBQW1CLENBQUMsQ0FBQztZQUN2Q08sUUFBUSxFQUFFSCxVQUFVLENBQUNlLFFBQVE7WUFDN0JWLFlBQVksRUFBRUMsSUFBSSxDQUFDVSxTQUFTLENBQUMsQ0FBQzttQkFBSUMsV0FBVzttQkFBS0wsT0FBTztZQUFDLENBQUM7UUFDN0QsQ0FBQztRQUNELEtBQUssQ0FBQ1gsUUFBUSxHQUFHLEtBQUssQ0FBQ0osTUFBTSxDQUFDSyxJQUFJLENBQUNXLE9BQU87UUFDMUMsTUFBTSxDQUFDWixRQUFRO0lBQ2pCLENBQUMsQ0FBQyxLQUFLLEVBQUVPLEtBQUssRUFBRSxDQUFDO1FBQ2ZDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLENBQXVCLHdCQUFFRixLQUFLO1FBQzFDLE1BQU0sQ0FBQyxJQUFJO0lBQ2IsQ0FBQztBQUNILENBQUM7QUFFRCxFQUE0QjtBQUM1QixFQUFvRDtBQUNwRCxFQUFZO0FBQ1osRUFBa0g7QUFDbEgsRUFBMkM7QUFDM0MsRUFBdUI7QUFDdkIsRUFBMEI7QUFDMUIsRUFBbUI7QUFDbkIsRUFBNEI7QUFDNUIsRUFBWTtBQUNaLEVBQVU7QUFDVixFQUFRO0FBQ1IsRUFBTztBQUNQLEVBQUk7QUFFRyxlQUFlVyxZQUFZLEdBQUcsQ0FBQztJQUNwQyxFQUE4QztJQUM5QyxFQUEyQztJQUMzQyxFQUE0QjtJQUM1QixFQUFpQjtJQUNqQixFQUFhO0lBQ2IsRUFBb0I7SUFDcEIsRUFBVztJQUNYLEVBQXNCO0lBQ3RCLEVBQWdDO0lBQ2hDLEVBQW1CO0lBQ25CLEVBQWdDO0lBQ2hDLEVBQWM7SUFDZCxFQUFpQjtJQUNqQixFQUFpQjtJQUNqQixFQUF3QjtJQUN4QixFQUFNO0lBQ04sRUFBaUI7SUFDakIsTUFBTSxDQUFDLENBQUMsQ0FBQztBQUNYLENBQUM7QUFFTSxLQUFLLENBQUNDLGNBQWMsVUFBVUMsYUFBcUIsR0FBSyxDQUFDO0lBQzlELEtBQUssQ0FBQ3JCLFVBQVUsR0FDZHNCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxJQUFJLEtBQUssQ0FBYSxlQUFHLENBQXFCLHVCQUFHLENBQWU7SUFFOUUsS0FBSyxDQUFDQyxPQUFPLEdBQUcsS0FBSyxDQUFDMUIsY0FBYyxDQUFDQyxVQUFVO0lBQy9DLEtBQUssQ0FBQyxDQUFDLENBQ0wwQixrQkFBa0IsR0FDbEJDLGlCQUFpQixHQUNqQkMsYUFBYSxHQUNiQyxhQUFhLElBQ2YsQ0FBQyxHQUFHSixPQUFPO0lBRVgsTUFBTSxFQUFFLFFBQVEsRUFBRUMsa0JBQWtCLENBQUMsQ0FBQyxFQUFFQyxpQkFBaUIsQ0FBQyxDQUFDLEVBQUVDLGFBQWEsQ0FBQyxDQUFDLEVBQUVDLGFBQWEsQ0FBQyxDQUFDLEVBQUVSLGFBQWE7QUFDOUcsQ0FBQztBQUVNLEtBQUssQ0FBQ1Msa0JBQWtCLElBQzdCSixrQkFBMEIsRUFDMUJDLGlCQUF5QixFQUN6QkMsYUFBcUIsRUFDckJDLGFBQXFCLEVBQ3JCUixhQUFxQixHQUNsQixDQUFDO0lBQ0osTUFBTSxFQUFFLFFBQVEsRUFBRUssa0JBQWtCLENBQUMsQ0FBQyxFQUFFQyxpQkFBaUIsQ0FBQyxDQUFDLEVBQUVDLGFBQWEsQ0FBQyxDQUFDLEVBQUVDLGFBQWEsQ0FBQyxDQUFDLEVBQUVSLGFBQWE7QUFDOUcsQ0FBQztBQUVNLEtBQUssQ0FBQ1UsZUFBZSxJQUFJQyxhQUFxQixHQUFLLENBQUM7SUFDekQsTUFBTSxDQUFDLEdBQUcsQ0FBQ0MsT0FBTyxDQUFDLFFBQVEsQ0FBRUMsT0FBTyxFQUFFQyxNQUFNLEVBQUUsQ0FBQztRQUM3QzNDLG1EQUFJLEVBQ0QsNENBQTRDLEVBQUV3QyxhQUFhLElBQzVELFFBQVEsQ0FBRXhCLEtBQUssRUFBRTRCLE1BQU0sRUFBRUMsTUFBTSxFQUFFLENBQUM7WUFDaEMsRUFBRSxFQUFFN0IsS0FBSyxFQUFFLENBQUM7Z0JBQ1YyQixNQUFNLENBQUMsS0FBSztZQUNkLENBQUMsTUFBTSxDQUFDO2dCQUNORCxPQUFPLENBQUMsSUFBSTtZQUNkLENBQUM7UUFDSCxDQUFDO0lBRUwsQ0FBQztBQUNILENBQUM7QUFFTSxLQUFLLENBQUNJLHFCQUFxQixPQUFTLENBQUM7SUFDMUMsTUFBTSxDQUFDLEdBQUcsQ0FBQ0wsT0FBTyxDQUFDLFFBQVEsQ0FBRUMsT0FBTyxFQUFFQyxNQUFNLEVBQUUsQ0FBQztRQUM3QzNDLG1EQUFJLEVBQUUsOEJBQThCLEdBQUcsUUFBUSxDQUFFZ0IsS0FBSyxFQUFFNEIsTUFBTSxFQUFFQyxNQUFNLEVBQUUsQ0FBQztZQUN2RSxFQUFFLEVBQUU3QixLQUFLLEVBQUUsQ0FBQztnQkFDVjJCLE1BQU0sQ0FBQyxLQUFLO1lBQ2QsQ0FBQyxNQUFNLENBQUM7Z0JBQ05ELE9BQU8sQ0FBQyxJQUFJO1lBQ2QsQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDO0FBQ0gsQ0FBQztBQUVNLEtBQUssQ0FBQ0ssdUJBQXVCLE9BQVMsQ0FBQztJQUM1QyxNQUFNLENBQUMsR0FBRyxDQUFDTixPQUFPLENBQUMsUUFBUSxDQUFFQyxPQUFPLEVBQUVDLE1BQU0sRUFBRSxDQUFDO1FBQzdDM0MsbURBQUksRUFBRSx3QkFBd0IsR0FBRyxRQUFRLENBQUVnQixLQUFLLEVBQUU0QixNQUFNLEVBQUVDLE1BQU0sRUFBRSxDQUFDO1lBQ2pFLEVBQUUsRUFBRTdCLEtBQUssRUFBRSxDQUFDO2dCQUNWQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsS0FBSztnQkFDakIyQixNQUFNLENBQUMsS0FBSztZQUNkLENBQUMsTUFBTSxDQUFDO2dCQUNOMUIsT0FBTyxDQUFDQyxHQUFHLENBQUMsQ0FBYSxjQUFFMEIsTUFBTTtnQkFDakNGLE9BQU8sQ0FBQyxJQUFJO1lBQ2QsQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDO0FBQ0gsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVsbGlLYW0vLi4vLi4vcGFja2FnZXMvZGIvdXRpbHMudHM/YTJiOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBleGVjIH0gZnJvbSAnY2hpbGRfcHJvY2VzcydcbmltcG9ydCB7XG4gIFNlY3JldHNNYW5hZ2VyQ2xpZW50LFxuICBHZXRTZWNyZXRWYWx1ZUNvbW1hbmQsXG4gIENyZWF0ZVNlY3JldENvbW1hbmQsXG4gIFVwZGF0ZVNlY3JldENvbW1hbmQsXG59IGZyb20gJ0Bhd3Mtc2RrL2NsaWVudC1zZWNyZXRzLW1hbmFnZXInXG5cbmNvbnN0IGNsaWVudCA9IG5ldyBTZWNyZXRzTWFuYWdlckNsaWVudCh7XG4gIHJlZ2lvbjogJ2FwLXNvdXRoZWFzdC0xJyxcbn0pXG5cbmV4cG9ydCBjb25zdCBnZXRTZWNyZXRWYWx1ZSA9IGFzeW5jIChzZWNyZXROYW1lOiBzdHJpbmcpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNsaWVudC5zZW5kKFxuICAgICAgbmV3IEdldFNlY3JldFZhbHVlQ29tbWFuZCh7XG4gICAgICAgIFNlY3JldElkOiBzZWNyZXROYW1lLFxuICAgICAgICBWZXJzaW9uU3RhZ2U6ICdBV1NDVVJSRU5UJywgLy8gVmVyc2lvblN0YWdlIGRlZmF1bHRzIHRvIEFXU0NVUlJFTlQgaWYgdW5zcGVjaWZpZWRcbiAgICAgIH0pXG4gICAgKVxuICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5TZWNyZXRTdHJpbmcpIHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKHJlc3BvbnNlLlNlY3JldFN0cmluZylcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coJ2Vycm9yIGluIGZldGNoU2VjcmV0JywgZXJyb3IpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlU2VjcmV0ID0gYXN5bmMgKHBheWxvYWQ6IGFueSkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgQ3JlYXRlU2VjcmV0Q29tbWFuZCh7XG4gICAgICBOYW1lOiBwYXlsb2FkLnNlY3JldE5hbWUudG9TdHJpbmcoKSxcbiAgICAgIFNlY3JldFN0cmluZzogSlNPTi5zdHJpbmdpZnkocGF5bG9hZC5zZWNyZXRWYWx1ZSksXG4gICAgfSlcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNsaWVudC5zZW5kKGNvbW1hbmQpXG4gICAgcmV0dXJuIHJlc3BvbnNlXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coJ2Vycm9yIGluIGNyZWF0ZVNlY3JldCcsIGVycm9yKVxuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVNlY3JldCA9IGFzeW5jIChzZWNyZXROYW1lOiBhbnksIHBheWxvYWQ6IGFueSkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHNlY3JldFZhbHVlID0gYXdhaXQgZ2V0U2VjcmV0VmFsdWUoc2VjcmV0TmFtZSlcbiAgICBjb25zdCBjb21tYW5kID0gbmV3IFVwZGF0ZVNlY3JldENvbW1hbmQoe1xuICAgICAgU2VjcmV0SWQ6IHNlY3JldE5hbWUudG9TdHJpbmcoKSxcbiAgICAgIFNlY3JldFN0cmluZzogSlNPTi5zdHJpbmdpZnkoeyAuLi5zZWNyZXRWYWx1ZSwgLi4ucGF5bG9hZCB9KSxcbiAgICB9KVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY2xpZW50LnNlbmQoY29tbWFuZClcbiAgICByZXR1cm4gcmVzcG9uc2VcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZygnZXJyb3IgaW4gY3JlYXRlU2VjcmV0JywgZXJyb3IpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG4vLyBmdW5jdGlvbiBmZXRjaFNjaGVtYXMoKSB7XG4vLyAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4vLyAgICAgZXhlYyhcbi8vICAgICAgIGBNWVNRTF9QV0Q9JHtEQVRBQkFTRV9QQVNTV09SRH0gbXlzcWwgLWggJHtEQVRBQkFTRV9IT1NUfSAtdSAke0RBVEFCQVNFX1VTRVJfTkFNRX0gLWUgXCJzaG93IGRhdGFiYXNlc1wiO2AsXG4vLyAgICAgICBmdW5jdGlvbiAoZXJyb3IsIHN0ZG91dCwgc3RkZXJyKSB7XG4vLyAgICAgICAgIGlmIChlcnJvcikge1xuLy8gICAgICAgICAgIHJlamVjdChlcnJvcilcbi8vICAgICAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgICByZXNvbHZlKHN0ZG91dClcbi8vICAgICAgICAgfVxuLy8gICAgICAgfVxuLy8gICAgIClcbi8vICAgfSlcbi8vIH1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbFNjaGVtYSgpIHtcbiAgLy8gY29uc3Qgc2NoZW1hUmVzOiBhbnkgPSBhd2FpdCBmZXRjaFNjaGVtYXMoKVxuICAvLyBjb25zb2xlLmxvZygnc2NoZW1hUmVzLS0tLT4nLCBzY2hlbWFSZXMpXG4gIC8vIGNvbnN0IHNjaGVtYXMgPSBzY2hlbWFSZXNcbiAgLy8gICAuc3BsaXQoJ1xcbicpXG4gIC8vICAgLmZpbHRlcihcbiAgLy8gICAgIChlbGU6IGFueSkgPT5cbiAgLy8gICAgICAgIVtcbiAgLy8gICAgICAgICAnRGF0YWJhc2UnLFxuICAvLyAgICAgICAgICdpbmZvcm1hdGlvbl9zY2hlbWEnLFxuICAvLyAgICAgICAgICdteXNxbCcsXG4gIC8vICAgICAgICAgJ3BlcmZvcm1hbmNlX3NjaGVtYScsXG4gIC8vICAgICAgICAgJycsXG4gIC8vICAgICAgICAgJ3N5cycsXG4gIC8vICAgICAgICAgJ3RtcCcsXG4gIC8vICAgICAgIF0uaW5jbHVkZXMoZWxlKVxuICAvLyAgIClcbiAgLy8gcmV0dXJuIHNjaGVtYXNcbiAgcmV0dXJuIFtdXG59XG5cbmV4cG9ydCBjb25zdCBnZXREYXRhQmFzZVVybCA9IGFzeW5jIChEQVRBQkFTRV9OQU1FOiBzdHJpbmcpID0+IHtcbiAgY29uc3Qgc2VjcmV0TmFtZSA9XG4gICAgcHJvY2Vzcy5lbnYuTU9ERSA9PT0gJ2RldmVsb3BtZW50JyA/ICdsb2NhbF9kYXRhYmFzZV9jcmVkJyA6ICdkYXRhYmFzZV9jcmVkJ1xuXG4gIGNvbnN0IHNlY3JldHMgPSBhd2FpdCBnZXRTZWNyZXRWYWx1ZShzZWNyZXROYW1lKVxuICBjb25zdCB7XG4gICAgREFUQUJBU0VfVVNFUl9OQU1FLFxuICAgIERBVEFCQVNFX1BBU1NXT1JELFxuICAgIERBVEFCQVNFX0hPU1QsXG4gICAgREFUQUJBU0VfUE9SVCxcbiAgfSA9IHNlY3JldHNcblxuICByZXR1cm4gYG15c3FsOi8vJHtEQVRBQkFTRV9VU0VSX05BTUV9OiR7REFUQUJBU0VfUEFTU1dPUkR9QCR7REFUQUJBU0VfSE9TVH06JHtEQVRBQkFTRV9QT1JUfS8ke0RBVEFCQVNFX05BTUV9YFxufVxuXG5leHBvcnQgY29uc3QgZ2V0RGF0YUJhc2VVcmxTeW5jID0gKFxuICBEQVRBQkFTRV9VU0VSX05BTUU6IHN0cmluZyxcbiAgREFUQUJBU0VfUEFTU1dPUkQ6IHN0cmluZyxcbiAgREFUQUJBU0VfSE9TVDogc3RyaW5nLFxuICBEQVRBQkFTRV9QT1JUOiBzdHJpbmcsXG4gIERBVEFCQVNFX05BTUU6IHN0cmluZ1xuKSA9PiB7XG4gIHJldHVybiBgbXlzcWw6Ly8ke0RBVEFCQVNFX1VTRVJfTkFNRX06JHtEQVRBQkFTRV9QQVNTV09SRH1AJHtEQVRBQkFTRV9IT1NUfToke0RBVEFCQVNFX1BPUlR9LyR7REFUQUJBU0VfTkFNRX1gXG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVNaWdyYXRpb24gPSAobWlncmF0aW9uTmFtZTogc3RyaW5nKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZXhlYyhcbiAgICAgIGB5YXJuIHdvcmtzcGFjZSBpbnRlbGxpS2FtIHJ1biBjcmVhdGUgLS1uYW1lICR7bWlncmF0aW9uTmFtZX1gLFxuICAgICAgZnVuY3Rpb24gKGVycm9yLCBzdGRvdXQsIHN0ZGVycikge1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICByZWplY3QoZmFsc2UpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZSh0cnVlKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgKVxuICB9KVxufVxuXG5leHBvcnQgY29uc3QgYXBwbHlDcmVhdGVkTWlncmF0aW9uID0gKCkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGV4ZWMoYHlhcm4gcnVuIHByaXNtYSBtaWdyYXRlIGRlcGxveWAsIGZ1bmN0aW9uIChlcnJvciwgc3Rkb3V0LCBzdGRlcnIpIHtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICByZWplY3QoZmFsc2UpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNvbHZlKHRydWUpXG4gICAgICB9XG4gICAgfSlcbiAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlTmV3UHJpc21hQ2xpZW50ID0gKCkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGV4ZWMoYHlhcm4gcnVuIHByaXNtYSBnZW5lcmF0ZWAsIGZ1bmN0aW9uIChlcnJvciwgc3Rkb3V0LCBzdGRlcnIpIHtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcbiAgICAgICAgcmVqZWN0KGZhbHNlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3N0ZG91dD09PT09Jywgc3Rkb3V0KVxuICAgICAgICByZXNvbHZlKHRydWUpXG4gICAgICB9XG4gICAgfSlcbiAgfSlcbn1cbiJdLCJuYW1lcyI6WyJleGVjIiwiU2VjcmV0c01hbmFnZXJDbGllbnQiLCJHZXRTZWNyZXRWYWx1ZUNvbW1hbmQiLCJDcmVhdGVTZWNyZXRDb21tYW5kIiwiVXBkYXRlU2VjcmV0Q29tbWFuZCIsImNsaWVudCIsInJlZ2lvbiIsImdldFNlY3JldFZhbHVlIiwic2VjcmV0TmFtZSIsInJlc3BvbnNlIiwic2VuZCIsIlNlY3JldElkIiwiVmVyc2lvblN0YWdlIiwiU2VjcmV0U3RyaW5nIiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwiY3JlYXRlU2VjcmV0IiwicGF5bG9hZCIsImNvbW1hbmQiLCJOYW1lIiwidG9TdHJpbmciLCJzdHJpbmdpZnkiLCJzZWNyZXRWYWx1ZSIsInVwZGF0ZVNlY3JldCIsImdldEFsbFNjaGVtYSIsImdldERhdGFCYXNlVXJsIiwiREFUQUJBU0VfTkFNRSIsInByb2Nlc3MiLCJlbnYiLCJNT0RFIiwic2VjcmV0cyIsIkRBVEFCQVNFX1VTRVJfTkFNRSIsIkRBVEFCQVNFX1BBU1NXT1JEIiwiREFUQUJBU0VfSE9TVCIsIkRBVEFCQVNFX1BPUlQiLCJnZXREYXRhQmFzZVVybFN5bmMiLCJjcmVhdGVNaWdyYXRpb24iLCJtaWdyYXRpb25OYW1lIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzdGRvdXQiLCJzdGRlcnIiLCJhcHBseUNyZWF0ZWRNaWdyYXRpb24iLCJnZW5lcmF0ZU5ld1ByaXNtYUNsaWVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../packages/db/utils.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("./pages/api/auth/[...nextauth].ts"));
module.exports = __webpack_exports__;

})();